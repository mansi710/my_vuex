{"ast":null,"code":"// import { resolve } from \"core-js/fn/promise\";\nimport { createStore } from \"vuex\"; // import store from \"./store\";\n\nimport shop from \"./shop\";\nexport default createStore({\n  state: {\n    //like data\n    products: []\n  },\n  getters: {\n    //like computed properties\n    productsCount() {},\n\n    availableProducts(state) {\n      return state.products.filter(product => product.inventory > 0);\n    }\n\n  },\n  actions: {\n    //make the ajax call\n    //run setProducts mutation\n    // fetchProducts({ commit }) {\n    //   return new Promise((resolve) => {\n    //     shop.getProducts((products) => {\n    //       commit(\"setProducts\", products);\n    //       resolve();\n    //     });\n    //   });\n    // },\n    fetchProducts(context) {\n      shop.getProducts(products => {\n        context.commit(\"setProducts\", products);\n      });\n    },\n\n    addProductToCart(context, product) {\n      if (product.inventory > 0) {\n        //find cartItem\n        const cartItem = context.state.cart.find(item => item.id === product.id);\n\n        if (!cartItem) {\n          //pushProductToCart\n          context.commit(\"pushProductToCart\", product.id);\n        } else {\n          //incrementItemQuantity\n          context.commit(\"incrementItemQuantity\", cartItem);\n        }\n\n        context.commit(\"decrementProductInventory\", product);\n      }\n    }\n\n  },\n  mutations: {\n    //setting and updating state\n    //when state change\n    //and only responsible for updating just a piece of the state.\n    setProducts(state, products) {\n      state.products = products;\n    }\n\n  },\n\n  pushProductToCart(state, productId) {\n    state.cart.push({\n      id: productId\n    });\n  }\n\n});","map":{"version":3,"names":["createStore","shop","state","products","getters","productsCount","availableProducts","filter","product","inventory","actions","fetchProducts","context","getProducts","commit","addProductToCart","cartItem","cart","find","item","id","mutations","setProducts","pushProductToCart","productId","push"],"sources":["/var/www/html/newData/mansi/vuex/src/store/shoppingcart.js"],"sourcesContent":["// import { resolve } from \"core-js/fn/promise\";\nimport { createStore } from \"vuex\";\n// import store from \"./store\";\nimport shop from \"./shop\";\nexport default createStore({\n  state: {\n    //like data\n    products: [],\n  },\n  getters: {\n    //like computed properties\n    productsCount() {},\n    availableProducts(state) {\n      return state.products.filter((product) => product.inventory > 0);\n    },\n  },\n  actions: {\n    //make the ajax call\n    //run setProducts mutation\n    // fetchProducts({ commit }) {\n    //   return new Promise((resolve) => {\n    //     shop.getProducts((products) => {\n    //       commit(\"setProducts\", products);\n    //       resolve();\n    //     });\n    //   });\n    // },\n\n    fetchProducts(context) {\n      shop.getProducts((products) => {\n        context.commit(\"setProducts\", products);\n      });\n    },\n\n    addProductToCart(context, product) {\n      if (product.inventory > 0) {\n        //find cartItem\n        const cartItem = context.state.cart.find(\n          (item) => item.id === product.id\n        );\n        if (!cartItem) {\n          //pushProductToCart\n          context.commit(\"pushProductToCart\", product.id);\n        } else {\n          //incrementItemQuantity\n          context.commit(\"incrementItemQuantity\", cartItem);\n        }\n        context.commit(\"decrementProductInventory\", product);\n      }\n    },\n  },\n  mutations: {\n    //setting and updating state\n    //when state change\n    //and only responsible for updating just a piece of the state.\n    setProducts(state, products) {\n      state.products = products;\n    },\n  },\n\n  pushProductToCart(state,productId){\n    state.cart.push({\n      id:productId\n    })\n  }\n});\n"],"mappings":"AAAA;AACA,SAASA,WAAT,QAA4B,MAA5B,C,CACA;;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,eAAeD,WAAW,CAAC;EACzBE,KAAK,EAAE;IACL;IACAC,QAAQ,EAAE;EAFL,CADkB;EAKzBC,OAAO,EAAE;IACP;IACAC,aAAa,GAAG,CAAE,CAFX;;IAGPC,iBAAiB,CAACJ,KAAD,EAAQ;MACvB,OAAOA,KAAK,CAACC,QAAN,CAAeI,MAAf,CAAuBC,OAAD,IAAaA,OAAO,CAACC,SAAR,GAAoB,CAAvD,CAAP;IACD;;EALM,CALgB;EAYzBC,OAAO,EAAE;IACP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEAC,aAAa,CAACC,OAAD,EAAU;MACrBX,IAAI,CAACY,WAAL,CAAkBV,QAAD,IAAc;QAC7BS,OAAO,CAACE,MAAR,CAAe,aAAf,EAA8BX,QAA9B;MACD,CAFD;IAGD,CAhBM;;IAkBPY,gBAAgB,CAACH,OAAD,EAAUJ,OAAV,EAAmB;MACjC,IAAIA,OAAO,CAACC,SAAR,GAAoB,CAAxB,EAA2B;QACzB;QACA,MAAMO,QAAQ,GAAGJ,OAAO,CAACV,KAAR,CAAce,IAAd,CAAmBC,IAAnB,CACdC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYZ,OAAO,CAACY,EADf,CAAjB;;QAGA,IAAI,CAACJ,QAAL,EAAe;UACb;UACAJ,OAAO,CAACE,MAAR,CAAe,mBAAf,EAAoCN,OAAO,CAACY,EAA5C;QACD,CAHD,MAGO;UACL;UACAR,OAAO,CAACE,MAAR,CAAe,uBAAf,EAAwCE,QAAxC;QACD;;QACDJ,OAAO,CAACE,MAAR,CAAe,2BAAf,EAA4CN,OAA5C;MACD;IACF;;EAjCM,CAZgB;EA+CzBa,SAAS,EAAE;IACT;IACA;IACA;IACAC,WAAW,CAACpB,KAAD,EAAQC,QAAR,EAAkB;MAC3BD,KAAK,CAACC,QAAN,GAAiBA,QAAjB;IACD;;EANQ,CA/Cc;;EAwDzBoB,iBAAiB,CAACrB,KAAD,EAAOsB,SAAP,EAAiB;IAChCtB,KAAK,CAACe,IAAN,CAAWQ,IAAX,CAAgB;MACdL,EAAE,EAACI;IADW,CAAhB;EAGD;;AA5DwB,CAAD,CAA1B"},"metadata":{},"sourceType":"module"}